models:
  - name: devices
    access: public
    config:
      alias: "{% if var('fullstory_devices_model_name', '') %}{{ var('fullstory_devices_model_name') }}{% else %}{% if target.type == 'bigquery' %}fullstory_devices_{{ modules.re.sub('[^a-zA-Z\\d_\\-]', '_', target.name) }}{% else %}devices{% endif %}{% endif %}"
      contract:
        enforce: true
    description: |-
      All devices that have recorded an event to FullStory. This table lists the latest values for device parameters like operating system, browser, etc as well as geographical parameters like IP address, country, region, etc.
    columns:
      - name: device_id
        description: '{{ doc("column_device_id") }}'
      - name: last_user_agent
        description: '{{ doc("column_last_user_agent") }}'
      - name: last_type
        description: '{{ doc("column_last_type") }}'
      - name: last_operating_system
        description: '{{ doc("column_last_operating_system") }}'
      - name: last_browser
        description: '{{ doc("column_last_browser") }}'
      - name: last_browser_version
        description: '{{ doc("column_last_browser_version") }}'
      - name: last_geo_ip_address
        description: '{{ doc("column_last_geo_ip_address") }}'
      - name: last_geo_country
        description: '{{ doc("column_last_geo_country") }}'
      - name: last_geo_region
        description: '{{ doc("column_last_geo_region") }}'
      - name: last_geo_city
        description: '{{ doc("column_last_geo_city") }}'
      - name: last_geo_lat_long
        description: '{{ doc("column_last_geo_lat_long") }}'
      - name: last_event_time
        description: '{{ doc("column_last_event_time") }}'
      - name: last_event_id
        description: '{{ doc("column_last_event_id") }}'
